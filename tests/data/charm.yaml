description: Overlay for attaching current charm
applications:
  k8s:
    charm: "k8s"
    expose: true
    num_units: 1
    options:
      local-storage-enabled: false
    constraints: cores=2 mem=8G root-disk=16G
  openstack-integrator:
    charm: openstack-integrator
    num_units: 1
    channel: edge
    trust: true
  openstack-cloud-controller:
    charm: {{charm}}
    resources: {{resources}}

relations:
- [openstack-cloud-controller:kube-control, k8s:kube-control]
- [openstack-cloud-controller:openstack,  openstack-integrator:clients]
- [openstack-cloud-controller:external-cloud-provider, k8s:external-cloud-provider]
